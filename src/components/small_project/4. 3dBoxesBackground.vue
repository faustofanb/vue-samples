<template>
    <div :class="styles.componentWrapper">
        <button :class="styles.magicButton" @click="toggleBoxesSize">Magic ğŸ©</button>
        <div :class="[styles.boxesContainer, { [styles.big]: isBig }]">
            <div
                v-for="(box, index) in boxes"
                :key="index"
                :class="styles.box"
                :style="{ backgroundPosition: box.backgroundPosition }"
            />
        </div>
    </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import styles from '@/assets/modules/4. 3dBoxesBackground.module.scss'

// åˆ›å»º4x4çš„ç½‘æ ¼æ•°æ®
const boxes = ref(
    Array.from({ length: 4 }, (_, i) =>
        Array.from({ length: 4 }, (_, j) => ({
            backgroundPosition: `${-j * 125}px ${-i * 125}px`,
        })),
    ).flat(),
)

// æ§åˆ¶å¤§å°çŠ¶æ€
const isBig = ref(true)

// åˆ‡æ¢å¤§å°çš„å‡½æ•°
function toggleBoxesSize() {
    isBig.value = !isBig.value
}
</script>
